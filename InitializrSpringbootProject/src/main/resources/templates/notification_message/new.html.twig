{% extends 'base.html.twig' %}

{% block body %}
  <h1 style="margin-right:100px;">Notification Creation</h1>
{% if error is defined %}{{error}}{% endif %}
  {{ form_start(form) }}
  <div>{{ form_label(form.message) }}
    {{ form_errors(form.message) }}
    {{ form_widget(form.message) }}
    <div id="textarea_feedback"></div>
  </div>
  <div>{{ form_label(form.active) }}
    {{ form_errors(form.active) }}
    {{ form_widget(form.active) }}</div>

  <input type="submit" value="Create" />
  {{ form_end(form) }}

  <ul>
    <li>
      <a href="{{ path('notification_message_index') }}">Back to the list</a>
    </li>
  </ul>
  <script>
    $(document).ready(function () {
      var text_max = 119;
      $('#textarea_feedback').html(text_max + ' characters remaining');

      $('#notification_message_message').keyup(function () {
        var text_length = $('#notification_message_message').val().length;
        var text_remaining = text_max - text_length;

        $('#textarea_feedback').html(text_remaining + ' characters remaining');
      });
      var text_length = $('#notification_message_message').val().length;
      var text_remaining = text_max - text_length;

      $('#textarea_feedback').html(text_remaining + ' characters remaining');
    });</script>
  {% endblock %}
